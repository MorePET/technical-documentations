# Gitlint configuration for conventional commits
# See: https://jorisroovers.com/gitlint/latest/configuration/

[general]
# Enable all built-in rules by default
ignore=
# Enable community contributed rules
contrib=contrib-title-conventional-commits

# Set the verbosity level (1-3)
verbosity=2

# Ignore merge commits, revert commits, and fixup commits
ignore-merge-commits=true
ignore-revert-commits=true
ignore-fixup-commits=true
ignore-fixup-amend-commits=true
ignore-squash-commits=true

# Regex for lines to ignore in the body (e.g., commit trailers)
ignore-body-lines=^Signed-off-by:,^Co-authored-by:,^Closes:,^Fixes:,^Related:,^Refs:,^BREAKING CHANGE:

[title-max-length]
line-length=72

[title-min-length]
min-length=10

[body-max-line-length]
line-length=72

[body-min-length]
min-length=0

[body-is-missing]
# Don't require body - simple commits can be just a title
ignore-merge-commits=true

# Conventional commits configuration
[contrib-title-conventional-commits]
# Supported types (matching your git-commit.md documentation)
types=feat,fix,docs,style,refactor,perf,test,chore,ci,build,revert

# Allowed scopes (ENFORCED - only these scopes are valid):
# - auth: Authentication and authorization
# - api: API endpoints and interfaces
# - ui: User interface components
# - cli: Command-line interface
# - docs: Documentation files (general)
# - readme: README files specifically
# - changelog: CHANGELOG updates
# - ci: CI/CD configuration
# - workflow: GitHub Actions workflows
# - github: GitHub-specific features
# - deps: Dependency updates
# - devcontainer: Dev container configuration
# - build: Build system and tooling
# - config: Configuration files
# - typst: Typst documentation system
# - python: Python code
# - markdown: Markdown files and linting
# - yaml: YAML configuration
# - pre-commit: Pre-commit hooks
# - gitlint: Commit message linting
# - test: Test code and testing infrastructure
# - security: Security-related changes
# - release: Release preparation
# - linter: Linter configuration
#
# Scopes are REQUIRED for all commits.
# Only scopes from the above list are allowed.

[title-match-regex]
# Enforce scope is required and must be from the allowed list
# Allows: feat(auth): msg, fix(deps): msg
# Rejects: feat: msg (no scope), feat(other): msg (invalid scope)
regex=^(feat|fix|docs|style|refactor|perf|test|chore|ci|build|revert)\((auth|api|ui|cli|docs|readme|changelog|ci|workflow|github|deps|devcontainer|build|config|typst|python|markdown|yaml|pre-commit|gitlint|test|security|release|linter)\):\s.+
