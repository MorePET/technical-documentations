<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Palette - Light vs Dark Mode</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Libertinus Serif', 'Georgia', serif;
            line-height: 1.6;
            padding: 40px;
            background: var(--bg-color);
            color: var(--text-color);
            transition: background 0.3s, color 0.3s;
        }

        :root {
            --bg-color: #ffffff;
            --text-color: #000000;
            --border-color: #cccccc;
        }

        [data-theme='dark'] {
            --bg-color: #1a1a1a;
            --text-color: #ffffff;
            --border-color: #444444;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            margin-bottom: 10px;
        }

        .subtitle {
            color: #666;
            margin-bottom: 30px;
        }

        [data-theme='dark'] .subtitle {
            color: #aaa;
        }

        h2 {
            margin-top: 40px;
            margin-bottom: 20px;
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 10px;
        }

        h3 {
            margin-top: 30px;
            margin-bottom: 15px;
        }

        .color-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
            padding: 20px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
        }

        .color-box {
            text-align: center;
        }

        .color-box h4 {
            margin-bottom: 10px;
        }

        .swatch {
            width: 100%;
            height: 80px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .hex-code {
            font-family: monospace;
            font-size: 14px;
            color: #666;
        }

        [data-theme='dark'] .hex-code {
            color: #aaa;
        }

        .toggle-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .theme-toggle {
            background: var(--text-color);
            color: var(--bg-color);
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            transition: transform 0.2s;
        }

        .theme-toggle:hover {
            transform: scale(1.05);
        }

        .usage-note {
            background: #f0f0f0;
            padding: 15px;
            border-left: 4px solid #0066cc;
            margin: 15px 0;
            border-radius: 4px;
        }

        [data-theme='dark'] .usage-note {
            background: #2a2a2a;
            border-left-color: #4da6ff;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th,
        td {
            border: 1px solid var(--border-color);
            padding: 12px;
            text-align: left;
        }

        th {
            background: #f5f5f5;
        }

        [data-theme='dark'] th {
            background: #2a2a2a;
        }

        code {
            background: #f5f5f5;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: monospace;
        }

        [data-theme='dark'] code {
            background: #2a2a2a;
        }
    </style>
</head>

<body>
    <div class="toggle-container">
        <button class="theme-toggle" onclick="toggleTheme()">ðŸŒ“ Toggle Theme</button>
    </div>

    <div class="container">
        <h1>Color Palette Demonstration</h1>
        <p class="subtitle">Light Mode vs Dark Mode - Side by Side Comparison</p>

        <div class="usage-note">
            <strong>ðŸ’¡ Interactive Demo:</strong> Click the "Toggle Theme" button (top-right) to see how all colors
            transform between light and dark modes.
        </div>

        <h2>Node Background Colors</h2>
        <p>These colors are used in our technical diagrams. Toggle the theme to see how they adapt!</p>

        <h3>1. Blue (Standard) - <code>blue.lighten(80%)</code></h3>
        <p><em>Used in: System Architecture, Data Flow (Validation, Processing)</em></p>
        <div class="color-comparison">
            <div class="color-box">
                <h4>Light Mode</h4>
                <div class="swatch" style="background: #cce3f7; color: #000;">node-bg-blue</div>
                <div class="hex-code">#cce3f7</div>
            </div>
            <div class="color-box">
                <h4>Dark Mode</h4>
                <div class="swatch" style="background: #1e3a5f; color: #fff;">node-bg-blue</div>
                <div class="hex-code">#1e3a5f</div>
            </div>
        </div>

        <h3>2. Blue (Lighter) - <code>blue.lighten(90%)</code></h3>
        <p><em>Used in: State Machine (Draft, Review states)</em></p>
        <div class="color-comparison">
            <div class="color-box">
                <h4>Light Mode</h4>
                <div class="swatch" style="background: #e6f1fb; color: #000;">node-bg-blue-light</div>
                <div class="hex-code">#e6f1fb</div>
            </div>
            <div class="color-box">
                <h4>Dark Mode</h4>
                <div class="swatch" style="background: #1a2f4a; color: #fff;">node-bg-blue-light</div>
                <div class="hex-code">#1a2f4a</div>
            </div>
        </div>

        <h3>3. Green - <code>green.lighten(80%)</code></h3>
        <p><em>Used in: Data Flow (User Input), State Machine (Approved state)</em></p>
        <div class="color-comparison">
            <div class="color-box">
                <h4>Light Mode</h4>
                <div class="swatch" style="background: #d5f5d9; color: #000;">node-bg-green</div>
                <div class="hex-code">#d5f5d9</div>
            </div>
            <div class="color-box">
                <h4>Dark Mode</h4>
                <div class="swatch" style="background: #1e3d1e; color: #fff;">node-bg-green</div>
                <div class="hex-code">#1e3d1e</div>
            </div>
        </div>

        <h3>4. Orange - <code>orange.lighten(80%)</code></h3>
        <p><em>Used in: Data Flow (Storage)</em></p>
        <div class="color-comparison">
            <div class="color-box">
                <h4>Light Mode</h4>
                <div class="swatch" style="background: #ffe7d1; color: #000;">node-bg-orange</div>
                <div class="hex-code">#ffe7d1</div>
            </div>
            <div class="color-box">
                <h4>Dark Mode</h4>
                <div class="swatch" style="background: #4a3420; color: #fff;">node-bg-orange</div>
                <div class="hex-code">#4a3420</div>
            </div>
        </div>

        <h3>5. Purple - <code>purple.lighten(80%)</code></h3>
        <p><em>Used in: Data Flow (External API)</em></p>
        <div class="color-comparison">
            <div class="color-box">
                <h4>Light Mode</h4>
                <div class="swatch" style="background: #efcff4; color: #000;">node-bg-purple</div>
                <div class="hex-code">#efcff4</div>
            </div>
            <div class="color-box">
                <h4>Dark Mode</h4>
                <div class="swatch" style="background: #3a2651; color: #fff;">node-bg-purple</div>
                <div class="hex-code">#3a2651</div>
            </div>
        </div>

        <h3>6. Red - <code>red.lighten(80%)</code></h3>
        <p><em>Used in: State Machine (Rejected state)</em></p>
        <div class="color-comparison">
            <div class="color-box">
                <h4>Light Mode</h4>
                <div class="swatch" style="background: #ffd9d7; color: #000;">node-bg-red</div>
                <div class="hex-code">#ffd9d7</div>
            </div>
            <div class="color-box">
                <h4>Dark Mode</h4>
                <div class="swatch" style="background: #4a2020; color: #fff;">node-bg-red</div>
                <div class="hex-code">#4a2020</div>
            </div>
        </div>

        <h3>7. Neutral (Gray)</h3>
        <p><em>Used in: General purpose nodes</em></p>
        <div class="color-comparison">
            <div class="color-box">
                <h4>Light Mode</h4>
                <div class="swatch" style="background: #f0f0f0; color: #000;">node-bg-neutral</div>
                <div class="hex-code">#f0f0f0</div>
            </div>
            <div class="color-box">
                <h4>Dark Mode</h4>
                <div class="swatch" style="background: #2d3748; color: #fff;">node-bg-neutral</div>
                <div class="hex-code">#2d3748</div>
            </div>
        </div>

        <h2>Text and Stroke Colors</h2>
        <div class="color-comparison">
            <div class="color-box">
                <h4>Light Mode</h4>
                <div class="swatch" style="background: #fff; color: #000; border: 2px solid #000;">
                    Text, arrows, outlines
                </div>
                <div class="hex-code">#000000 (black)</div>
            </div>
            <div class="color-box">
                <h4>Dark Mode</h4>
                <div class="swatch" style="background: #1a1a1a; color: #fff; border: 2px solid #fff;">
                    Text, arrows, outlines
                </div>
                <div class="hex-code">#ffffff (white)</div>
            </div>
        </div>

        <h2>Color Mapping Table</h2>
        <table>
            <thead>
                <tr>
                    <th>Color Name</th>
                    <th>Typst Expression</th>
                    <th>Light Hex</th>
                    <th>Dark Hex</th>
                    <th>Use Case</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Blue</td>
                    <td><code>blue.lighten(80%)</code></td>
                    <td><code>#cce3f7</code></td>
                    <td><code>#1e3a5f</code></td>
                    <td>Standard nodes</td>
                </tr>
                <tr>
                    <td>Blue (Light)</td>
                    <td><code>blue.lighten(90%)</code></td>
                    <td><code>#e6f1fb</code></td>
                    <td><code>#1a2f4a</code></td>
                    <td>State machine states</td>
                </tr>
                <tr>
                    <td>Green</td>
                    <td><code>green.lighten(80%)</code></td>
                    <td><code>#d5f5d9</code></td>
                    <td><code>#1e3d1e</code></td>
                    <td>Success, input, approved</td>
                </tr>
                <tr>
                    <td>Orange</td>
                    <td><code>orange.lighten(80%)</code></td>
                    <td><code>#ffe7d1</code></td>
                    <td><code>#4a3420</code></td>
                    <td>Storage, warning</td>
                </tr>
                <tr>
                    <td>Purple</td>
                    <td><code>purple.lighten(80%)</code></td>
                    <td><code>#efcff4</code></td>
                    <td><code>#3a2651</code></td>
                    <td>External services</td>
                </tr>
                <tr>
                    <td>Red</td>
                    <td><code>red.lighten(80%)</code></td>
                    <td><code>#ffd9d7</code></td>
                    <td><code>#4a2020</code></td>
                    <td>Error, rejected</td>
                </tr>
                <tr>
                    <td>Neutral</td>
                    <td>N/A</td>
                    <td><code>#f0f0f0</code></td>
                    <td><code>#2d3748</code></td>
                    <td>Generic nodes</td>
                </tr>
            </tbody>
        </table>

        <h2>Design Principles</h2>
        <h3>Light Mode (High Contrast, Vibrant)</h3>
        <ul>
            <li>Bright, saturated pastels</li>
            <li>80-90% lightness (HSL)</li>
            <li>Designed for white backgrounds</li>
            <li>High energy and visibility</li>
        </ul>

        <h3>Dark Mode (Low Contrast, Muted)</h3>
        <ul>
            <li>Muted, desaturated tones</li>
            <li>20-26% lightness (HSL)</li>
            <li>Designed for dark backgrounds</li>
            <li>Comfortable for extended viewing</li>
            <li>Follows industry standards (GitHub, VS Code, Material Design)</li>
        </ul>

        <h2>How It Works</h2>
        <ol>
            <li><strong>Typst compiles</strong> diagrams with <code>color.lighten(%)</code> expressions</li>
            <li><strong>Hex colors</strong> are generated in SVG output</li>
            <li><strong>Post-processing</strong> replaces hex colors with CSS variables</li>
            <li><strong>CSS rules</strong> define different values for light/dark modes</li>
            <li><strong>Theme toggle</strong> changes <code>data-theme</code> attribute</li>
            <li><strong>CSS variables</strong> update automatically across all diagrams!</li>
        </ol>

        <div class="usage-note" style="margin-top: 40px;">
            <strong>ðŸŽ¨ Try it yourself:</strong> Toggle between light and dark mode using the button at the top-right to
            see all colors transform in real-time!
        </div>
    </div>

    <script>
        // Initialize theme
        const theme = localStorage.getItem('theme') || 'light';
        document.body.setAttribute('data-theme', theme);

        function toggleTheme() {
            const currentTheme = document.body.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            document.body.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
        }
    </script>
</body>

</html>